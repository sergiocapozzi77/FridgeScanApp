<ContentPage
    x:Class="FridgeScan.Views.BarcodeScannerPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:barcode="clr-namespace:BarcodeScanning;assembly=BarcodeScanning.Native.Maui"
    xmlns:button="clr-namespace:Syncfusion.Maui.Buttons;assembly=Syncfusion.Maui.Buttons"
    Shell.PresentationMode="ModalAnimated"
    Unloaded="ContentPage_Unloaded">

    <Grid>
        <barcode:CameraView
            x:Name="Barcode"
            AimMode="True"
            BarcodeSymbologies="All"
            CaptureQuality="High"
            OnDetectionFinished="CameraView_OnDetectionFinished"
            TapToFocusEnabled="True" />

        <GraphicsView
            x:Name="Graphics"
            AbsoluteLayout.LayoutBounds="0,0,1,1"
            AbsoluteLayout.LayoutFlags="All"
            InputTransparent="True" />

        <Grid
            Margin="0,10,0,0"
            ColumnDefinitions="*, *, *, *, *, *"
            VerticalOptions="Start">

            <Button
                x:Name="BackButton"
                Grid.Column="0"
                Clicked="BackButton_Clicked"
                CornerRadius="25"
                FontSize="24"
                HeightRequest="50"
                WidthRequest="50" />
            <Button
                Grid.Column="1"
                Clicked="CameraButton_Clicked"
                CornerRadius="25"
                FontFamily="Material"
                FontSize="24"
                HeightRequest="50"
                Text="flip_camera_android"
                WidthRequest="50" />
            <Button
                Grid.Column="2"
                Clicked="TorchButton_Clicked"
                CornerRadius="25"
                FontFamily="Material"
                FontSize="24"
                HeightRequest="50"
                Text="flashlight_on"
                WidthRequest="50" />


        </Grid>
        <Border
            x:Name="ProductPanel"
            Margin="0,0,0,20"
            Padding="15"
            BackgroundColor="#CCFFFFFF"
            HeightRequest="160"
            HorizontalOptions="Center"
            IsVisible="False"
            Opacity="0"
            VerticalOptions="End">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="12" />
            </Border.StrokeShape>


            <HorizontalStackLayout Spacing="15">
                <Image
                    x:Name="ProductImage"
                    Aspect="AspectFit"
                    HeightRequest="80"
                    WidthRequest="80" />

                <VerticalStackLayout Spacing="10">
                    <Label
                        x:Name="ProductName"
                        FontSize="18"
                        TextColor="Black" />

                    <HorizontalStackLayout Spacing="10">
                        <button:SfButton
                            x:Name="AddButton"
                            Clicked="AddButton_Clicked"
                            Text="Add" />
                        <button:SfButton
                            x:Name="CancelButton"
                            Clicked="CancelButton_Clicked"
                            Text="Cancel" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </HorizontalStackLayout>

        </Border>

    </Grid>


</ContentPage>
